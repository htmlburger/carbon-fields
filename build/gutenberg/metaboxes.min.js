this.cf=this.cf||{},this.cf.metaboxes=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=42)}([function(e,t){!function(){e.exports=this.lodash}()},function(e,t){!function(){e.exports=this.cf.vendor["callbag-basics"]}()},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){!function(){e.exports=this.wp.hooks}()},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){!function(){e.exports=this.cf.core}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.cf.vendor.immer}()},function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){!function(){e.exports=this.cf.vendor["refract-callbag"]}()},function(e,t){!function(){e.exports=this.wp.element}()},function(e,t,n){var r=n(25),o=n(26),c=n(21),i=n(27);e.exports=function(e,t){return r(e)||o(e,t)||c(e,t)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(35),o=n(36),c=n(21),i=n(37);e.exports=function(e){return r(e)||o(e)||c(e)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(28);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(29).default,o=n(9);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){!function(){e.exports=this.cf.vendor.classnames}()},function(e,t,n){var r=n(22);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=(e=>t=>(n,r)=>{if(0!==n)return;let o;t(0,(t,n)=>{0===t?(o=n,r(t,n)):1===t?e(n)?r(t,n):o(1):r(t,n)})})},function(e,t){e.exports=(e=>(t,n)=>{if(0!==t)return;if("function"!=typeof e)return n(0,()=>{}),void n(2);let r,o;const c=e=>{(r=r||2===e)&&"function"==typeof o&&o()};n(0,c),o=e((e,t)=>{r||0===e||(n(e,t),c(e))})})},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,c=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(a)throw o}}return c}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var r=n(22);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"setupState",function(){return v}),n.d(r,"updateState",function(){return g}),n.d(r,"updateFieldValue",function(){return h}),n.d(r,"addFields",function(){return w}),n.d(r,"cloneFields",function(){return x}),n.d(r,"removeFields",function(){return E}),n.d(r,"addContainer",function(){return S}),n.d(r,"removeContainer",function(){return P}),n.d(r,"receiveSidebar",function(){return D}),n.d(r,"lockSaving",function(){return I}),n.d(r,"unlockSaving",function(){return F});var o={};n.r(o),n.d(o,"getContainers",function(){return T}),n.d(o,"getContainerById",function(){return A}),n.d(o,"getFields",function(){return C}),n.d(o,"getFieldsByContainerId",function(){return k}),n.d(o,"getFieldById",function(){return N}),n.d(o,"isSavingLocked",function(){return G}),n.d(o,"isDirty",function(){return R}),n.d(o,"isFieldUpdated",function(){return L}),n.d(o,"getComplexGroupValues",function(){return M});var c=n(6),i=n(3),a=n(2),u=n(0),s=n.n(u),l=n(4),f=n.n(l),d=n(7),p=n.n(d),b=n(5);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e,t,n){var r=t[e];return"complex"===r.type&&r.value.forEach(function(e){n=e.fields.reduce(function(e,n){return j(n.id,t,e)},n)}),n.concat(e)}var y=Object(a.combineReducers)({containers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETUP_STATE":return t.payload.containers;case"UPDATE_STATE":return p()(e,function(e){Object(u.values)(t.payload.containers).forEach(function(t){e[t.id]=t})});case"ADD_CONTAINER":return p()(e,function(e){e[t.payload.id]=t.payload});case"REMOVE_CONTAINER":return Object(u.omit)(e,t.payload);default:return e}},fields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETUP_STATE":return t.payload.fields;case"UPDATE_STATE":return p()(e,function(e){Object(u.values)(t.payload.fields).forEach(function(t){e[t.id]=t})});case"UPDATE_FIELD_VALUE":return p()(e,function(n){var r=t.payload,o=r.fieldId,c=r.value,i=r.fieldsToRemove;n[o].value=c,i.reduce(function(t,n){return j(n,e,t)},[]).forEach(function(e){Object(u.unset)(n,e)})});case"ADD_FIELDS":return p()(e,function(e){t.payload.fields.forEach(function(t){e[t.id]=t})});case"CLONE_FIELDS":return p()(e,function(e){var n=t.payload,r=n.originFieldIds,o=n.cloneFieldIds,c=r.reduce(function(t,n,r){return function e(t,n,r,o){var c=Object(u.cloneDeep)(r[t]);return c.id=n,"complex"===c.type&&c.value.forEach(function(t){t.id=Object(b.uniqueId)(),o=t.fields.reduce(function(t,n){var o=n.id,c=Object(b.uniqueId)();return n.id=c,e(o,c,r,t)},o)}),o.concat(c)}(n,o[r],e,t)},[]);Object(u.assign)(e,Object(u.keyBy)(c,"id"))});case"REMOVE_FIELDS":var n=t.payload.fieldIds.reduce(function(t,n){return j(n,e,t)},[]);return Object(u.omit)(e,n);case"RECEIVE_SIDEBAR":return p()(e,function(e){Object(u.forEach)(e,function(e){"sidebar"===e.type&&e.options.unshift(t.payload)})});default:return e}},savingLock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOCK_SAVING":return m(m({},e),{},f()({},t.payload.lockName,!0));case"UNLOCK_SAVING":return Object(u.omit)(e,[t.payload.lockName]);default:return e}},isDirty:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"UPDATE_FIELD_VALUE":return!0;default:return e}},isFieldUpdated:function(e,t){switch(t.type){case"UPDATE_FIELD_VALUE":return{action:t};default:return!1}}});function v(e,t){return{type:"SETUP_STATE",payload:{containers:e,fields:t}}}function g(e,t){return{type:"UPDATE_STATE",payload:{containers:e,fields:t}}}function h(e,t){return{type:"UPDATE_FIELD_VALUE",payload:{fieldId:e,value:t,fieldsToRemove:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]}}}function w(e){return{type:"ADD_FIELDS",payload:{fields:e}}}function x(e,t){return{type:"CLONE_FIELDS",payload:{originFieldIds:e,cloneFieldIds:t}}}function E(e){return{type:"REMOVE_FIELDS",payload:{fieldIds:e}}}function S(e){return{type:"ADD_CONTAINER",payload:e}}function P(e){return{type:"REMOVE_CONTAINER",payload:e}}function D(e){return{type:"RECEIVE_SIDEBAR",payload:e}}function I(e){return{type:"LOCK_SAVING",payload:{lockName:e}}}function F(e){return{type:"UNLOCK_SAVING",payload:{lockName:e}}}function T(e){return e.containers}function A(e,t){return e.containers[t]}function C(e){return e.fields}function k(e,t){return Object(u.filter)(e.fields,["container_id",t])}function N(e,t){return e.fields[t]}function G(e){return Object.keys(e.savingLock).length>0}function R(e){return e.isDirty}function L(e){return e.isFieldUpdated}function M(e,t){var n=Object(u.pick)(C(e),t);return n=Object(u.mapKeys)(n,function(e){return e.base_name.replace(/\-/g,"_")}),Object(u.mapValues)(n,function(e){return e.value})}function B(e,t,n){return(e=Object(u.cloneDeep)(e)).id=Object(b.uniqueId)(),e.container_id=t,"complex"===e.type&&e.value.forEach(function(e){e.id=Object(b.uniqueId)(),e.container_id=t,e.fields=e.fields.map(function(e){return B(e,t,n)})}),n.push(e),Object(u.pick)(e,["id","type","name","base_name"])}function U(e){var t=[];return{containers:e.filter(function(e){var t=e.id;return!Object(u.endsWith)(t,"__i__")}).map(function(e){return Object(u.assign)({},e,{fields:e.fields.map(function(n){return B(n,e.id,t)})})}),fields:t}}Object(a.registerStore)("carbon-fields/metaboxes",{reducer:y,actions:r,selectors:o});var V=U(Object(u.get)(window.cf,"preloaded.containers",[])),q=V.containers,Q=V.fields;Object(a.dispatch)("carbon-fields/metaboxes").setupState(Object(u.keyBy)(q,"id"),Object(u.keyBy)(Q,"id"));var K=n(8),$=Object(K.createHigherOrderComponent)(function(e){var t=Object(a.withSelect)(function(e,t){var n=window.cf.config,r=n.compactInput,o=n.compactInputKey,c=e("carbon-fields/metaboxes").getFieldById(t.id),i=c&&c.value,a=t.name||c.name;return r&&!t.name&&-1===a.indexOf("widget-carbon_fields")&&(a="".concat(o,"[").concat(a,"]")),{field:c,name:a,value:i}}),n=Object(a.withDispatch)(function(e){return{onChange:e("carbon-fields/metaboxes").updateFieldValue}});return Object(K.compose)(t,n)(e)},"withField"),W=n(12),H=n.n(W),z=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){if(0===e){var r=!1;for(n(0,function(e){2===e&&(r=!0,t.length=0)});0!==t.length;)n(1,t.shift());r||n(2)}}};const J={};var X=function(e,t){return e===t},Y=function(e){return void 0===e&&(e=X),function(t){return function(n,r){if(0===n){var o,c,i=!1;t(0,function(t,n){0===t&&(c=n),1===t?i&&e(o,n)?c(1):(i=!0,o=n,r(1,n)):r(t,n)})}}}},Z=n(1);function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return void 0===e?[]:Object(u.pick)(t,Object(u.difference)(Object(u.map)(e.fields,"id"),n))}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(u.map)(e,function(e){return[e.id,"".concat(Object(u.repeat)("parent.",t)).concat(e.base_name)]})}var ne=Object(b.withConditionalLogic)(function(e,t){var n=Object(a.select)("carbon-fields/metaboxes").getFieldsByContainerId;return Object(Z.pipe)(Object(Z.merge)(z(n(e.containerId)),Object(b.fromSelector)(n,e.containerId)),(e=>t=>(n,r)=>{if(0!==n)return;let o,c,i=!1,a=J;t(0,(t,n)=>{if(0===t)return o=n,e(0,(e,t)=>{if(0!==e)return 1===e?(a=void 0,c(2),o(2),void(i&&r(2))):void(2===e&&(c=null,a=t,null!=t&&(o(2),i&&r(e,t))));(c=t)(1)}),i=!0,r(0,(e,t)=>{a===J&&(2===e&&c&&c(2),o(e,t))}),void(a!==J&&r(2,a));2===t&&c(2),a===J&&r(t,n)})})(t.unmount),Y(u.isEqual))},function(e,t){t=Object(u.keyBy)(t,"id");var n=Object(a.select)("carbon-fields/metaboxes").getContainerById(e.containerId),r=[];if(Object(u.some)(n.fields,["id",e.id]))r=te(r=ee(n,t,[e.id]));else{var o=e.name.replace(new RegExp("^".concat(window.cf.config.compactInputKey,"\\[(.+?)\\]")),"$1"),c=Object(u.find)(t,function(t){return t.container_id===e.containerId&&Object(u.startsWith)(o,t.name)}),i=o.split(/\[|\]/g);i.shift(),(i=i.filter(function(e){return""!==e})).pop();var s=i.reduce(function(e,t){return isNaN(t)?e+1:e},0);r=te(r=ee(n,t,[c.id]),s+1);for(var l="".concat(c.id,".value");i.length>0;){var f=i.shift(),d=!isNaN(f),p=!d;if(d){l="".concat(l,"[").concat(f,"]");var b=ee(Object(u.get)(t,l),t,[e.id]);r=r.concat(te(b,s)),l="".concat(l,".fields")}if(p){var O=Object(u.find)(Object(u.get)(t,l),["name",f]);l="".concat(O.id,".value"),s--}}}return r=r.map(function(e){var n=H()(e,2),r=n[0];return[n[1],Object(u.get)(t,"".concat(r,".value"))]}),Object(u.fromPairs)(r)});function re(){return!Object(u.isUndefined)(window._wpLoadBlockEditor)}function oe(e,t){return Object(u.find)(e,function(e){return e.name===t})}Object(i.addFilter)("carbon-fields.association.metabox","carbon-fields/metaboxes",Object(b.withProps)(function(e){return{hierarchyResolver:function(){var t,n,r,o,c=Object(a.select)("carbon-fields/metaboxes").getContainerById(e.containerId),i=Object(a.select)("carbon-fields/metaboxes").getFieldsByContainerId(e.containerId),s=(t=e.name,n=window.cf.config,r=n.compactInput,o=n.compactInputKey,r&&0===t.indexOf(o)?t.replace(new RegExp("^".concat(o,"\\[(.+?)\\]")),"$1"):t).split(/\[|\]/g);if(s=s.filter(function(e){return""!==e}),"widget"===c.type)return e.field.base_name;for(var l=oe(i,s.shift()),f=i.indexOf(l),d=l.base_name;s.length>0;){var p=s.shift(),b=!isNaN(p),O=p===e.field.base_name,m=!b&&!O;if(b&&(f="".concat(f,".value.").concat(p,".name"),d="".concat(d,"[").concat(p,"]:").concat(Object(u.get)(i,f),"/")),m){var j=oe(Object(u.get)(i,f.replace(/\.name$/,".fields")),p),y=Object(u.find)(i,["id",j.id]);f=i.indexOf(y),d="".concat(d).concat(y.base_name)}O&&(d="".concat(d).concat(p))}return d}}}));var ce=n(16),ie=n.n(ce),ae=n(17),ue=n.n(ae),se=n(9),le=n.n(se),fe=n(18),de=n.n(fe),pe=n(19),be=n.n(pe),Oe=n(15),me=n.n(Oe),je=n(11),ye=(n(30),n(31),Object(K.compose)($,Object(b.withFilters)("carbon-fields.field-wrapper.metabox"))(b.Field));var ve=function(e){de()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=me()(e);if(t){var o=me()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return be()(this,n)}}(n);function n(){var e;ie()(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),f()(le()(e),"handleAddGroup",function(t,n){var r=e.props,o=r.id,c=r.field,i=r.value,a=r.addFields,s=r.onChange;t=Object(u.cloneDeep)(t);var l=[];t.id=Object(b.uniqueId)(),t.container_id=c.container_id,t.fields=t.fields.map(function(e){return B(e,c.container_id,l)}),t.collapsed=!1,a(l),s(o,i.concat(t)),n(t)}),f()(le()(e),"handleCloneGroup",function(t,n){var r=e.props,o=r.id,c=r.value,i=r.cloneFields,a=r.onChange,s=t.fields.map(function(e){return e.id}),l=s.map(function(){return Object(b.uniqueId)()}),f=Object(u.cloneDeep)(t);f.id=Object(b.uniqueId)(),f.fields.forEach(function(e,t){e.id=l[t]}),i(s,l),a(o,p()(c,function(e){e.splice(c.indexOf(t)+1,0,f)})),n(f)}),f()(le()(e),"handleRemoveGroup",function(t){var n=e.props,r=n.id,o=n.value;(0,n.onChange)(r,Object(u.without)(o,t),t.fields.map(function(e){return e.id}))}),f()(le()(e),"handleToggleGroup",function(t){var n=e.props,r=n.field,o=n.value;(0,n.onChange)(r.id,p()(o,function(e){var n=Object(u.find)(e,["id",t]);n.collapsed=!n.collapsed}))}),f()(le()(e),"handleToggleAllGroups",function(t){var n=e.props,r=n.field,o=n.value;(0,n.onChange)(r.id,p()(o,function(e){e.forEach(function(e){e.collapsed=t})}))}),f()(le()(e),"handleGroupSetup",function(t,n){return Object(u.assign)({},n,{id:t.id,name:t.name,prefix:"".concat(e.props.name,"[").concat(n.index,"]"),fields:t.fields,collapsed:t.collapsed,context:"metabox"})}),f()(le()(e),"handleGroupFieldSetup",function(t,n,r){return[ye,Object(u.assign)({},n,{key:t.id,id:t.id,containerId:e.props.containerId,name:"".concat(r.prefix,"[").concat(t.name,"]")})]}),e}return ue()(n,[{key:"render",value:function(){var e=this.handleGroupSetup,t=this.handleGroupFieldSetup,n=this.handleAddGroup,r=this.handleCloneGroup,o=this.handleRemoveGroup,c=this.handleToggleGroup,i=this.handleToggleAllGroups,a=this.props,u=a.value;return(0,a.children)({allGroupsAreCollapsed:u.every(function(e){return e.collapsed}),handleGroupSetup:e,handleGroupFieldSetup:t,handleAddGroup:n,handleCloneGroup:r,handleRemoveGroup:o,handleToggleGroup:c,handleToggleAllGroups:i})}}]),n}(je.Component),ge=Object(a.withSelect)(function(e,t){var n=e("carbon-fields/metaboxes").getComplexGroupValues;return{groupValues:t.value.map(function(e){var t=e.fields.map(function(e){return e.id});return[e.name,n(t)]})}}),he=Object(a.withDispatch)(function(e){var t=e("carbon-fields/metaboxes");return{addFields:t.addFields,cloneFields:t.cloneFields}});Object(i.addFilter)("carbon-fields.complex.metabox","carbon-fields/metaboxes",function(e){return Object(K.compose)(ge,he)(function(t){var n=t.id,r=t.field,o=t.name,c=t.value,i=t.groupValues;return wp.element.createElement(ve,t,function(a){var u=a.allGroupsAreCollapsed,s=a.handleGroupSetup,l=a.handleGroupFieldSetup,f=a.handleAddGroup,d=a.handleCloneGroup,p=a.handleRemoveGroup,b=a.handleToggleGroup,O=a.handleToggleAllGroups;return wp.element.createElement(e,{groupIdKey:"id",groupFilterKey:"name",id:n,field:r,name:o,value:c,groupValues:i,allGroupsAreCollapsed:u,onGroupSetup:s,onGroupFieldSetup:l,onAddGroup:f,onCloneGroup:d,onRemoveGroup:p,onToggleGroup:b,onToggleAllGroups:O,onChange:t.onChange})})})});var _e=n(13),we=n.n(_e);Object(i.addFilter)("carbon-fields.date_time.metabox","carbon-fields/metaboxes",function(e){return function(t){return wp.element.createElement(e,we()({buttonText:Object(c.__)("Select Date","carbon-fields-ui")},t))}}),Object(i.addFilter)("carbon-fields.file.metabox","carbon-fields/metaboxes",function(e){return function(t){return wp.element.createElement(e,we()({buttonLabel:Object(c.__)("Select File","carbon-fields-ui"),mediaLibraryButtonLabel:Object(c.__)("Use File","carbon-fields-ui"),mediaLibraryTitle:Object(c.__)("Select File","carbon-fields-ui")},t))}}),Object(i.addFilter)("carbon-fields.image.metabox","carbon-fields/metaboxes",function(e){return function(t){return wp.element.createElement(e,we()({buttonLabel:Object(c.__)("Select Image","carbon-fields-ui"),mediaLibraryButtonLabel:Object(c.__)("Use Image","carbon-fields-ui"),mediaLibraryTitle:Object(c.__)("Select Image","carbon-fields-ui")},t))}}),n(32),n(33),Object(i.addFilter)("carbon-fields.media_gallery.metabox","carbon-fields/metaboxes",function(e){return function(t){return wp.element.createElement(e,we()({buttonLabel:Object(c.__)("Select Attachments","carbon-fields-ui"),mediaLibraryButtonLabel:Object(c.__)("Use Attachments","carbon-fields-ui"),mediaLibraryTitle:Object(c.__)("Select Attachments","carbon-fields-ui")},t))}}),n(34),Object(i.addFilter)("carbon-fields.sidebar.metabox","carbon-fields/metaboxes",Object(a.withDispatch)(function(e){return{onAdded:e("carbon-fields/metaboxes").receiveSidebar}})),Object(i.addFilter)("carbon-fields.field-edit.metabox","carbon-fields/metaboxes",Object(K.compose)($,ne,Object(a.withDispatch)(function(e){if(re()){var t=e("core/editor");return{lockSaving:t.lockPostSaving,unlockSaving:t.unlockPostSaving}}var n=e("carbon-fields/metaboxes");return{lockSaving:n.lockSaving,unlockSaving:n.unlockSaving}}),b.withValidation));var xe=n(10),Ee=Object(xe.withEffects)(function(){return Object(b.fromSelector)(Object(a.select)("carbon-fields/metaboxes").isSavingLocked)},{handler:function(){return function(e){document.querySelectorAll('\n\t\t\t#publishing-action input#publish,\n\t\t\t#publishing-action input#save,\n\t\t\t#addtag input#submit,\n\t\t\t#edittag input[type="submit"],\n\t\t\t#your-profile input#submit\n\t\t').forEach(function(t){t.disabled=e})}}})(function(){return null}),Se=(...e)=>t=>(n,r)=>{if(0!==n)return;let o,c,i=!1,a=!1;for(r(0,(t,n)=>{a&&1===t&&(c=[1,n]),2===t&&(i=!0,e.length=0),o&&o(t,n)});0!==e.length;)1===e.length&&(a=!0),r(1,e.shift());i||t(0,(e,t)=>{if(0===e)return o=t,a=!1,void(c&&(o(...c),c=null));r(e,t)})};function Pe(e){var t=parseInt(e.value,10);return!isNaN(t)&&t>=0?t:0}function De(e){var t=0;if(e.className){var n=e.className.match(/^level-(\d+)/);n&&(t=parseInt(n[1],10)+1)}return t}function Ie(e){for(var t=[],n=e,r=De(e);r>0&&n;)if(De(n)===r){var o=parseInt(n.value,10);o>0&&t.unshift(o),n=n.previousSibling,r--}else n=n.previousSibling;return t}var Fe={post_ancestors:[],post_parent_id:0,post_level:1};function Te(e){var t=e.options[e.selectedIndex];return{post_ancestors:Ie(t),post_parent_id:Pe(t),post_level:De(t)+1}}Object(i.addFilter)("carbon-fields.conditional-display-post-parent.classic","carbon-fields/metaboxes",function(){var e=document.querySelector("select#parent_id");return e?Object(Z.pipe)(Object(Z.fromEvent)(e,"change"),Object(Z.map)(function(e){return Te(e.target)}),Se(Te(e))):z(Fe)}),Object(i.addFilter)("carbon-fields.conditional-display-post-parent.gutenberg","carbon-fields/metaboxes",function(){var e=Object(a.select)("core"),t=e.getPostType,n=e.getEntityRecords;return Object(Z.pipe)(Object(Z.combine)(Object(b.fromSelector)(Object(a.select)("core/editor").getCurrentPostId),Object(b.fromSelector)(Object(a.select)("core/editor").getEditedPostAttribute,"type"),Object(b.fromSelector)(Object(a.select)("core/editor").getEditedPostAttribute,"parent")),Y(u.isEqual),Object(Z.map)(function(e){var r=H()(e,3),o=r[0],c=r[1],i=r[2];if(i=parseInt(i,10),isNaN(i))return Fe;var a=t(c);if(!Object(u.get)(a,["hierarchical"],!1))return Fe;var s=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=Object(u.find)(n,["id",t]);return o?(r.unshift(o.id),o.parent?e(o.parent,n,r):r):r}(i,n("postType",c,{per_page:-1,exclude:o,parent_exclude:o,orderby:"menu_order",order:"asc"})||[]);return{post_ancestors:s,post_parent_id:i,post_level:s.length+1}}))});var Ae=n(23),Ce=n.n(Ae),ke=(e,t,n)=>Ce()(n=>{let r=n.target;for(;r!==e;){if(r.matches(t))return!0;r=r.parentElement}return!1})(((e,t,n)=>(r,o)=>{if(0!==r)return;let c=!1;const i=e=>{o(1,e)};o(0,r=>{2===r&&(c=!0,e.removeEventListener(t,i,n))}),c||e.addEventListener(t,i,n)})(e,n)),Ne={post_format:"standard"};function Ge(e){var t=e.value;return"0"===t&&(t="standard"),{post_format:t}}Object(i.addFilter)("carbon-fields.conditional-display-post-format.classic","carbon-fields/metaboxes",function(){var e=document.querySelector("div#post-formats-select");return e?Object(Z.pipe)(ke(e,"input.post-format","change"),Object(Z.map)(function(e){return Ge(e.target)}),Se(Ge(e.querySelector("input.post-format:checked")))):z(Ne)}),Object(i.addFilter)("carbon-fields.conditional-display-post-format.gutenberg","carbon-fields/metaboxes",function(){return Object(Z.pipe)(Object(b.fromSelector)(Object(a.select)("core/editor").getEditedPostAttribute,"format"),Y(),Object(Z.filter)(Boolean),Object(Z.map)(function(e){return{post_format:e}}),Se(Ne))});var Re={post_template:""};function Le(e){var t=e.value;return"default"===t&&(t=""),{post_template:t}}Object(i.addFilter)("carbon-fields.conditional-display-post-template.classic","carbon-fields/metaboxes",function(){var e=document.querySelector("select#page_template");return e?Object(Z.pipe)(Object(Z.fromEvent)(e,"change"),Object(Z.map)(function(e){return Le(e.target)}),Se(Le(e))):z(Re)}),Object(i.addFilter)("carbon-fields.conditional-display-post-template.gutenberg","carbon-fields/metaboxes",function(){return Object(Z.pipe)(Object(b.fromSelector)(Object(a.select)("core/editor").getEditedPostAttribute,"template"),Y(),Object(Z.filter)(u.isString),Object(Z.map)(function(e){return{post_template:e}}),Se(Re))});var Me=n(14),Be=n.n(Me);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var qe=",";function Qe(e,t){e["original_".concat(t)]=e[t],e[t]=function(){var n=new Event("change"),r=window.jQuery(arguments.length<=0?void 0:arguments[0]).closest(".postbox").find("textarea.the-tags").get(0),o=e["original_".concat(t)].apply(e,arguments);return r.dispatchEvent(n),o}}window.tagBox&&(Qe(window.tagBox,"parseTags"),Qe(window.tagBox,"flushTags")),Object(i.addFilter)("carbon-fields.conditional-display-post-term.classic","carbon-fields/metaboxes",function(){return Object(Z.pipe)(Z.merge.apply(void 0,Be()((e=document.querySelectorAll('div[id^="taxonomy-"]'),Be()(e).map(function(e){var t=e.id.replace("taxonomy-","");return Object(Z.pipe)(ke(e.querySelector("#".concat(t,"checklist")),'input[type="checkbox"]',"change"),Object(Z.scan)(function(e,n){var r=n.target;return p()(e,function(e){var n=parseInt(r.value,10);r.checked?e[t].push(n):Object(u.pull)(e[t],n)})},f()({},t,[])),Se(function(e){var t=document.querySelectorAll("#".concat(e,'checklist input[type="checkbox"]:checked'));return Be()(t).reduce(function(t,n){var r=parseInt(n.value,10);return t[e].push(r),t},f()({},e,[]))}(t)))}))).concat(Be()(function(){var e=document.querySelectorAll('div[id^="tagsdiv-"]');return Be()(e).map(function(e){var t=e.id.replace("tagsdiv-","");return Object(Z.pipe)(Object(Z.fromEvent)(e.querySelector("textarea.the-tags"),"change"),Object(Z.map)(function(e){var n=e.target;return f()({},t,n.value?n.value.split(qe):[])}),Se(function(e){var t=document.querySelector("#tagsdiv-".concat(e," textarea.the-tags")),n=t.value?t.value.split(qe):[];return f()({},e,n)}(t)))})}()))),Object(Z.scan)(function(e,t){return{post_term:Ve(Ve({},e.post_term),t)}},{post_term:{}}));var e}),Object(i.addFilter)("carbon-fields.conditional-display-post-term.gutenberg","carbon-fields/metaboxes",function(){var e=Object(a.select)("core").getTaxonomies,t=Object(a.select)("core/editor").getEditedPostAttribute;return Object(Z.pipe)(Object(b.fromSelector)(e,{per_page:-1}),Object(Z.filter)(Boolean),Object(Z.map)(function(e){var n=e.map(function(e){return[e.slug,t(e.rest_base)||[]]});return{post_term:Object(u.fromPairs)(n)}}))});var Ke={term_ancestors:[],term_parent:0,term_level:1};function $e(e){var t=e.options[e.selectedIndex];return{term_ancestors:Ie(t),term_parent:Pe(t),term_level:De(t)+1}}Object(i.addFilter)("carbon-fields.conditional-display-term-parent.classic","carbon-fields/metaboxes",function(){var e=document.querySelector("select#parent");return e?Object(Z.pipe)(Object(Z.fromEvent)(e,"change"),Object(Z.map)(function(e){return $e(e.target)}),Se($e(e))):z(Ke)});var We={user_role:""};function He(e){return{user_role:e.value}}Object(i.addFilter)("carbon-fields.conditional-display-user-role.classic","carbon-fields/metaboxes",function(){var e=document.querySelector("select#role");if(!e){var t=document.querySelector("fieldset[data-profile-role]");return z(t?{user_role:t.dataset.profileRole}:We)}return Object(Z.pipe)(Object(Z.fromEvent)(e,"change"),Object(Z.map)(function(e){return He(e.target)}),Se(He(e)))});var ze=Object(K.createHigherOrderComponent)(function(e){return Object(a.withSelect)(function(e,t){var n=t.id;return{container:e("carbon-fields/metaboxes").getContainerById(n)}})(e)},"withContainer");Object(i.addFilter)("carbon-fields.register-container-type","carbon-fields/metaboxes",function(e,t,n){return Object(K.compose)(ze,Object(b.withFilters)("carbon-fields.".concat(e,".").concat(t)))(n)}),n(38),Object(i.addFilter)("carbon-fields.widget.classic","carbon-fields/metaboxes",Object(xe.withEffects)(function(){return Object(b.fromSelector)(Object(a.select)("carbon-fields/metaboxes").isFieldUpdated)},{handler:function(e){return function(t){var n=t.action;if(n){var r=e.container,o=n.payload;r.fields.map(function(e){return e.id}).indexOf(o.fieldId)>=0&&window.jQuery(".container-".concat(r.id)).closest(".widget-inside").trigger("change")}}}}));var Je=n(24),Xe=n.n(Je);function Ye(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t};return Xe()(function(r){var o=function(){return r(1,n.apply(void 0,arguments))};return e(o),function(){return t(o)}})}Object(i.addFilter)("carbon-fields.term_meta.classic","carbon-fields/metaboxes",Object(xe.withEffects)(function(){return Object(Z.pipe)(Ye(function(e){return window.jQuery(document).on("ajaxSuccess",e)},function(e){return window.jQuery(document).off("ajaxSuccess",e)},function(e,t,n,r){return{options:n,data:r}}),Object(Z.filter)(function(e){var t=e.options,n=e.data;return t.data&&t.data.indexOf("carbon_fields_container")>-1&&t.data.indexOf("add-tag")>-1&&!n.documentElement.querySelector("wp_error")}))},{handler:function(e){return function(){var t=s.a.map(e.container.fields,"id"),n=U(s.a.get(window.cf,"preloaded.containers",[])),r=n.containers,o=n.fields,c=s.a.find(r,["id",e.id]),i=s.a.filter(o,["container_id",e.id]),u=Object(a.dispatch)("carbon-fields/metaboxes"),l=u.updateState,f=u.removeFields;l(s.a.keyBy([c],"id"),s.a.keyBy(i,"id")),f(t)}}})),n(39),Object(i.addFilter)("carbon-fields.theme_options.classic","carbon-fields/metaboxes",Object(xe.withEffects)(function(){return Object(Z.pipe)(Object(Z.fromEvent)(window,"scroll"),Object(Z.map)(function(){return window.jQuery(window).scrollTop()}))},{handler:function(){return function(e){var t=window.jQuery(".carbon-box:first"),n=window.jQuery("#postbox-container-1"),r=window.jQuery("#wpadminbar").height()+10,o=t.offset().top-r;o>0&&n.toggleClass("fixed",e>=o).css("top",r)}}})),n(40);var Ze=n(20),et=n.n(Ze);n(41);var tt=function(e){de()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=me()(e);if(t){var o=me()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return be()(this,n)}}(n);function n(){var e;ie()(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),f()(le()(e),"state",{currentTab:null}),f()(le()(e),"renderField",function(t){var n=Object(b.getFieldType)(t.type,"metabox");return n?wp.element.createElement(ye,{key:t.id,id:t.id},wp.element.createElement(n,{id:t.id,containerId:e.props.id})):null}),f()(le()(e),"handleTabClick",function(t){e.setState({currentTab:t})}),e}return ue()(n,[{key:"componentDidMount",value:function(){var e=this.props.container;this.isTabbed(e)&&this.setState({currentTab:Object.keys(e.settings.tabs)[0]})}},{key:"isTabbed",value:function(e){return Object(u.isPlainObject)(e.settings.tabs)}},{key:"render",value:function(){var e=this,t=this.state.currentTab,n=this.props.container,r=this.isTabbed(n),o=et()(["cf-container","cf-container-".concat(n.id),"cf-container-".concat(Object(u.kebabCase)(n.type))].concat(Be()(n.classes),[f()({"cf-container--plain":!r},"cf-container--tabbed cf-container--".concat(n.layout),r)]));return wp.element.createElement("div",{className:o},wp.element.createElement("input",{type:"hidden",name:n.nonce.name,value:n.nonce.value}),r&&wp.element.createElement("div",{className:"cf-container__tabs cf-container__tabs--".concat(n.layout)},wp.element.createElement("ul",{className:"cf-container__tabs-list"},Object(u.map)(n.settings.tabs,function(n,r){var o=et()("cf-container__tabs-item",{"cf-container__tabs-item--current":r===t});return wp.element.createElement("li",{key:r,className:o,tabIndex:-1,role:"tab","aria-selected":t===r},wp.element.createElement("button",{type:"button",onClick:function(){return e.handleTabClick(r)},dangerouslySetInnerHTML:{__html:r}}))}))),r&&Object(u.map)(n.settings.tabs,function(r,o){return wp.element.createElement("div",{className:"cf-container__fields",key:o,hidden:o!==t},Object(u.map)(r,function(t){var r=Object(u.find)(n.fields,["name",t]);return e.renderField(r)}))}),!r&&wp.element.createElement("div",{className:"cf-container__fields"},Object(u.map)(n.fields,this.renderField)))}}]),n}(je.Component),nt=Object(b.createRegistry)("container",["classic","gutenberg"]),rt=nt.registerContainerType,ot=nt.getContainerType;function ct(e,t){var n=document.querySelector(".container-".concat(e.id)),r=ot(e.type,t);n?Object(je.render)(wp.element.createElement(r,{id:e.id}),n,function(){n.dataset.mounted=!0}):console.error(Object(c.sprintf)(Object(c.__)('Could not find DOM element for container "%1$s".',"carbon-fields-ui"),e.id))}["post_meta","term_meta","user_meta","comment_meta","network","theme_options","nav_menu_item","widget"].forEach(function(e){return rt(e,tt)});var it={operators:[],isOperatorSupported:function(e){return this.operators.indexOf(e)>-1},evaluate:function(){return!1}};function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var pt={comparers:[ut(ut({},it),{},{operators:["=","!="],evaluate:function(e,t,n){switch(t){case"=":return e==n;case"!=":return e!=n;default:return!1}}}),lt(lt({},it),{},{operators:["IN","NOT IN"],evaluate:function(e,t,n){switch(t){case"IN":return n.indexOf(e)>-1;case"NOT IN":return-1===n.indexOf(e);default:return!1}}}),dt(dt({},it),{},{operators:[">",">=","<","<="],evaluate:function(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;default:return!1}}})],isFulfiled:function(e,t){var n=e.compare,r=e.value;return this.firstComparerIsCorrect(this.getEnvironmentValue(e,t),n,r)},firstComparerIsCorrect:function(e,t,n){var r=Object(u.find)(this.comparers,function(e){return e.isOperatorSupported(t)});return r?r.evaluate(e,t,n):(console.error(Object(c.sprintf)(Object(c.__)('Unsupported container condition comparison operator used - "%1$s".',"carbon-fields-ui"),t)),!1)},getEnvironmentValue:function(e,t){return t[e.type]}};function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var mt=Ot(Ot({},pt),{},{getEnvironmentValue:function(){return!0}});function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var vt=yt(yt({},it),{},{operators:["=","!="],evaluate:function(e,t,n){switch(t){case"=":return Object(u.includes)(e,n);case"!=":return!Object(u.includes)(e,n);default:return!1}}});function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _t=ht(ht({},pt),{},{comparers:[vt],isFulfiled:function(e,t){var n=this,r=e.compare,o=e.value;if(Object(u.isArray)(o)){var c;switch(r){case"IN":r="=",c="some";break;case"NOT IN":r="!=",c="every";break;default:return!1}return o.map(function(o){return n.isFulfiled(ht(ht({},e),{},{compare:r,value:o}),t)})[c](Boolean)}return o=o.taxonomy_object.hierarchical?o.term_object.term_id:o.term_object.name,this.firstComparerIsCorrect(this.getEnvironmentValue(e,t),r,o)},getEnvironmentValue:function(e,t){return Object(u.get)(t,"post_term.".concat(e.value.taxonomy),[])}});function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Et=xt(xt({},pt),{},{isFulfiled:function(e,t){if("default"===(e=xt({},e)).value)e.value="";else if(Object(u.isArray)(e.value)){var n=e.value.indexOf("default");-1!==n&&(e.value[n]="")}return pt.isFulfiled(e,t)}});function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Dt=Pt(Pt({},it),{},{operators:["IN","NOT IN"],evaluate:function(e,t,n){switch(t){case"IN":return Object(u.intersection)(e,n).length>0;case"NOT IN":return 0===Object(u.intersection)(e,n).length;default:return!1}}});function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Tt=Ft(Ft({},pt),{},{comparers:[vt,Dt],getEnvironmentValue:function(e,t){return Object(u.get)(t,"post_ancestors",[])}});function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var kt=Ct(Ct({},pt),{},{isFulfiled:function(e,t){var n=e.compare,r=e.value;return Object(u.isArray)(r)?r=r.map(function(e){return e.term_object.term_id}):Object(u.isPlainObject)(r)&&(r=r.term_object.term_id),this.firstComparerIsCorrect(this.getEnvironmentValue(e,t),n,r)}});function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Rt=Gt(Gt({},pt),{},{comparers:[vt,Dt],isFulfiled:function(e,t){var n=e.compare,r=e.value;return Object(u.isArray)(r)?r=r.map(function(e){return e.term_object.term_id}):Object(u.isPlainObject)(r)&&(r=r.term_object.term_id),this.firstComparerIsCorrect(this.getEnvironmentValue(e,t),n,r)},getEnvironmentValue:function(e,t){return Object(u.get)(t,"term_ancestors",[])}}),Lt={boolean:mt,post_term:_t,post_ancestor_id:Tt,post_parent_id:pt,post_level:pt,post_format:pt,post_template:Et,term_level:pt,term_parent:kt,term_ancestor:Rt,user_role:pt},Mt=Object(a.withSelect)(function(e){return{containers:e("carbon-fields/metaboxes").getContainers()}}),Bt=Object(xe.withEffects)(function(e,t){var n=t.context,r=Object(i.applyFilters)("carbon-fields.conditional-display-post-parent.".concat(n)),o=Object(i.applyFilters)("carbon-fields.conditional-display-post-format.".concat(n)),c=Object(i.applyFilters)("carbon-fields.conditional-display-post-template.".concat(n)),a=Object(i.applyFilters)("carbon-fields.conditional-display-post-term.".concat(n)),s=Object(i.applyFilters)("carbon-fields.conditional-display-term-parent.".concat(n)),l=Object(i.applyFilters)("carbon-fields.conditional-display-user-role.".concat(n));return Object(Z.pipe)(Object(Z.merge)(r,o,c,a,s,l),Object(Z.scan)(function(e,t){return p()(e,function(e){Object(u.assign)(e,t)})}))},{handler:function(e){var t=e.containers,n=e.context;return function(e){Object(u.map)(t,function(t,n){return[n,function e(t,n,r){var o=t.map(function(t){if(t.relation)return e(t.conditions,n,t.relation);var r=Object(u.get)(Lt,t.type);return r?r.isFulfiled(t,n):(console.error(Object(c.sprintf)(Object(c.__)('Unsupported container condition - "%1$s".',"carbon-fields-ui"),t.type)),!1)});switch(r){case"AND":return o.every(Boolean);case"OR":return o.some(Boolean);default:return console.error(Object(c.sprintf)(Object(c.__)('Unsupported container condition relation used - "%1$s".',"carbon-fields-ui"),r)),!1}}(t.conditions.conditions,e,t.conditions.relation)]}).forEach(function(e){var r=H()(e,2),o=r[0],c=r[1],i=document.getElementById(o),a=document.querySelector(".container-".concat(o)),u=!!a.dataset.mounted;i&&(i.hidden=!c),a&&(c&&!u&&ct(t[o],n),!c&&u&&(delete a.dataset.mounted,a._reactRootContainer.unmount()))})}}}),Ut=Object(K.compose)(Bt,Mt)(function(){return null});function Vt(e){return decodeURIComponent((e+"").replace(/%(?![\da-f]{2})/gi,function(){return"%25"}).replace(/\+/g,"%20"))}var qt="customize.php",Qt="carbon_fields_container_",Kt=Object(xe.withEffects)(function(){return Object(Z.merge)(Object(Z.pipe)(Ye(function(e){return window.jQuery(document).on("widget-added widget-updated",e)},function(e){return window.jQuery(document).off("widget-added widget-updated",e)},function(e,t){return{event:e,$widget:t}}),Object(Z.filter)(function(e){return e.$widget[0].id.indexOf("carbon_fields_")>-1}),Object(Z.map)(function(e){return{type:"WIDGET_CREATED_OR_UPDATED",payload:e}})),Object(Z.pipe)(Ye(function(e){return window.jQuery(document).on("ajaxSend",e)},function(e){return window.jQuery(document).off("ajaxSend",e)},function(e,t,n,r){return{event:e,xhr:t,options:n,data:r}}),Object(Z.filter)(function(e){var t=e.options;return Object(u.startsWith)(t.data,Qt)}),Object(Z.map)(function(e){return{type:"WIDGET_BEIGN_UPDATED_OR_DELETED",payload:e}})))},{handler:function(){return function(e){var t=Object(a.select)("carbon-fields/metaboxes").getContainerById,n=Object(a.dispatch)("carbon-fields/metaboxes"),r=n.addContainer,o=n.removeContainer,c=n.addFields,i=n.removeFields;switch(e.type){case"WIDGET_CREATED_OR_UPDATED":var s=e.payload,l=s.event,f=s.$widget,d=Object(u.flow)(Vt,JSON.parse)(f.find("[data-json]").data("json")),p=[];if(d.fields=d.fields.map(function(e){return B(e,d,p)}),c(p),r(d),ct(d,"classic"),window.cf.config.pagenow===qt&&"widget-added"===l.type){var b=f.find('[name="widget-id"]').val();f.find('[name="savewidget"]').show().end().find(".widget-content:first").off("keydown","input").off("change input propertychange",":input"),wp.customize.Widgets.getWidgetFormControlForWidget(b).liveUpdateMode=!1}break;case"WIDGET_BEIGN_UPDATED_OR_DELETED":var O=e.payload.options.data.match(/widget-id=(.+?)&/),m=H()(O,2)[1],j="".concat(Qt).concat(m),y=t(j);Object(je.unmountComponentAtNode)(document.querySelector(".container-".concat(j)));var v=_.map(y.fields,"id");o(j),i(v)}}}})(function(){return null}),$t=Object(a.withSelect)(function(e){return{isDirty:e("carbon-fields/metaboxes").isDirty()}})(function(e){return wp.element.createElement("input",{type:"hidden",name:window.cf.config.revisionsInputKey,disabled:!e.isDirty,value:"1"})});n.d(t,"registerContainerType",function(){return rt}),n.d(t,"getContainerType",function(){return ot}),Object(c.setLocaleData)(window.cf.config.locale,"carbon-fields-ui");var Wt=re()?"gutenberg":"classic";Object(i.addAction)("carbon-fields.init","carbon-fields/metaboxes",function(){var e,t;e=Wt,t=Object(a.select)("carbon-fields/metaboxes").getContainers(),Object(u.forEach)(t,function(t){ct(t,e)}),function(e){var t=window.cf.config.pagenow;Object(je.render)(wp.element.createElement(je.Fragment,null,!re()&&wp.element.createElement(Ee,null),("widgets.php"===t||t===qt)&&wp.element.createElement(Kt,null),wp.element.createElement(Ut,{context:e})),document.createElement("div"));var n=document.querySelector("#poststuff");n&&Object(je.render)(wp.element.createElement($t,null),n.appendChild(document.createElement("div")))}(Wt)})}]);