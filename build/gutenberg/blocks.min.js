!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=65)}([function(e,t){e.exports=lodash},function(e,t){e.exports=wp.i18n},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=wp.hooks},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=wp.data},function(e,t){e.exports=cf.core},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=wp.element},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(47);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(48).default,o=n(4);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=wp.components},function(e,t){e.exports=wp.editor},function(e,t){e.exports=wp.blocks},function(e,t){e.exports=cf.vendor.immer},function(e,t,n){e.exports={forEach:n(25),fromObs:n(26),fromIter:n(27),fromEvent:n(28),fromPromise:n(29),interval:n(30),map:n(31),scan:n(32),flatten:n(33),take:n(34),skip:n(35),filter:n(36),merge:n(37),concat:n(38),combine:n(39),share:n(40),pipe:n(41)}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=wp.compose},function(e,t,n){var r=n(43),o=n(44),i=n(45),c=n(46);e.exports=function(e){return r(e)||o(e)||i(e)||c()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=wp.date},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var c=o.apply(null,r);c&&e.push(c)}else if("object"===i)for(var l in r)n.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t){e.exports=wp.apiFetch},function(e,t){e.exports=(e=>t=>{let n;t(0,(t,r)=>{0===t&&(n=r),1===t&&e(r),1!==t&&0!==t||n(1)})})},function(e,t){e.exports=(e=>(t,n)=>{if(0!==t)return;let r;n(0,e=>{2===e&&r&&(r.unsubscribe?r.unsubscribe():r())}),r=e.subscribe({next:e=>n(1,e),error:e=>n(2,e),complete:()=>n(2)})})},function(e,t){e.exports=(e=>(t,n)=>{if(0!==t)return;const r="undefined"!=typeof Symbol&&e[Symbol.iterator]?e[Symbol.iterator]():e;let o,i=!1,c=!1;n(0,e=>{1===e&&(c=!0,i||o&&o.done||function(){for(i=!0;c;)c=!1,(o=r.next()).done?n(2):n(1,o.value);i=!1}())})})},function(e,t){e.exports=((e,t)=>(n,r)=>{if(0!==n)return;const o=e=>r(1,e);r(0,n=>{2===n&&e.removeEventListener(t,o)}),e.addEventListener(t,o)})},function(e,t){e.exports=(e=>(t,n)=>{if(0!==t)return;let r=!1;e.then(e=>{r||(n(1,e),n(2))},e=>{r||n(2,e)}),n(0,e=>{2===e&&(r=!0)})})},function(e,t){e.exports=(e=>(t,n)=>{if(0!==t)return;let r=0;const o=setInterval(()=>{n(1,r++)},e);n(0,e=>{2===e&&clearInterval(o)})})},function(e,t){e.exports=(e=>t=>(n,r)=>{0===n&&t(0,(t,n)=>{r(t,1===t?e(n):n)})})},function(e,t){e.exports=function(e,t){let n=2===arguments.length;return r=>(o,i)=>{if(0!==o)return;let c=t;r(0,(t,r)=>{1===t?(c=n?e(c,r):(n=!0,r),i(1,c)):i(t,r)})}}},function(e,t){e.exports=(e=>(t,n)=>{if(0!==t)return;const r=e=>void 0!==e,o=e=>void 0===e,i=()=>{};let c,l,a=!1;function s(e){1===e&&(l||c||i)(1),2===e&&(l&&l(2),c&&c(2))}e(0,(e,t)=>{if(0===e)c=t,n(0,s);else if(1===e){const e=t;l&&l(2),e(0,(e,t)=>{0===e?(l=t)(1):1===e?n(1,t):2===e&&o(t)?a?n(2):(l=void 0,c(1)):2===e&&r(t)&&n(2,t)})}else 2===e&&o(t)?l?a=!0:n(2):2===e&&r(t)&&n(2,t)})})},function(e,t){e.exports=(e=>t=>(n,r)=>{if(0!==n)return;let o,i=0;function c(t,n){i<e&&o(t,n)}t(0,(t,n)=>{0===t?(o=n,r(0,c)):1===t?i<e&&(i++,r(t,n),i===e&&(r(2),o(2))):r(t,n)})})},function(e,t){e.exports=(e=>t=>(n,r)=>{if(0!==n)return;let o,i=0;t(0,(t,n)=>{0===t?(o=n,r(t,n)):1===t&&i<e?(i++,o(1)):r(t,n)})})},function(e,t){e.exports=(e=>t=>(n,r)=>{if(0!==n)return;let o;t(0,(t,n)=>{0===t?(o=n,r(t,n)):1===t?e(n)?r(t,n):o(1):r(t,n)})})},function(e,t){e.exports=function(...e){return(t,n)=>{if(0!==t)return;const r=e.length,o=new Array(r);let i=0,c=0;const l=e=>{if(0!==e)for(let t=0;t<r;t++)o[t]&&o[t](e)};for(let t=0;t<r;t++)e[t](0,(e,a)=>{0===e?(o[t]=a,1==++i&&n(0,l)):2===e?(o[t]=void 0,++c===r&&n(2)):n(e,a)})}}},function(e,t){e.exports=((...e)=>(t,n)=>{if(0!==t)return;const r=e.length;if(0===r)return n(0,()=>{}),void n(2);let o,i=0;const c=(e,t)=>{1!==e&&2!==e||o(e,t)};!function t(){i!==r?e[i](0,(e,r)=>{0===e?(o=r,0===i?n(0,c):o(1)):1===e?n(1,r):2===e&&(i++,t())}):n(2)}()})},function(e,t){const n={};e.exports=((...e)=>(t,r)=>{if(0!==t)return;const o=e.length;if(0===o)return r(0,()=>{}),r(1,[]),void r(2);let i=o,c=o,l=o;const a=new Array(o),s=new Array(o),u=(e,t)=>{if(2===e)for(let e=0;e<o;e++)s[e](2)};e.forEach((e,t)=>{a[t]=n,e(0,(e,f)=>{if(0===e)s[t]=f,0==--i&&r(0,u);else if(1===e){const e=c?a[t]===n?--c:c:0;if(a[t]=f,0===e){const e=new Array(o);for(let t=0;t<o;++t)e[t]=a[t];r(1,e)}}else 2===e?0==--l&&r(2):r(e,f)})})})},function(e,t){e.exports=(e=>{let t,n=[];return function(r,o){if(0!==r)return;n.push(o);const i=(e,r)=>{if(0!==e)if(2===e){const e=n.indexOf(o);e>-1&&n.splice(e,1),n.length||t(2)}else t(e,r)};1!==n.length?o(0,i):e(0,(e,r)=>{if(0===e)t=r,o(0,i);else for(let t of n.slice(0))t(e,r);2===e&&(n=[])})}})},function(e,t){e.exports=function(...e){let t=e[0];for(let n=1,r=e.length;n<r;n++)t=e[n](t);return t}},function(e,t,n){},function(e,t,n){var r=n(19);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(19);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"setupContainerDefinitions",function(){return K}),n.d(r,"setupFieldDefinitions",function(){return $});var o={};n.r(o),n.d(o,"getContainerDefinitionByBlockName",function(){return W}),n.d(o,"getFieldDefinitionsByBlockName",function(){return H});var i=n(2),c=n.n(i),l=n(5),a=n(16),s=n(1),u=n(0),f=n(20),p=n(3),d=n(6),b=function(e,t){return e===t},h=n(18);function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(u.mapKeys)(e,function(e,n){return"".concat(Object(u.repeat)("parent.",t)).concat(n)})}function v(e){return Object(u.startsWith)(e,"cf-")}var y=Object(d.withConditionalLogic)(function(e){return Object(h.pipe)(Object(d.fromSelector)(Object(l.select)("core/block-editor").getBlock,e.blockId),function(e){return void 0===e&&(e=b),function(t){return function(n,r){if(0===n){var o,i,c=!1;t(0,function(t,n){0===t&&(i=n),1===t?c&&e(o,n)?i(1):(c=!0,o=n,r(1,n)):r(t,n)})}}}}(),Object(h.map)(function(e){return e.attributes.data}))},function(e,t){var n={};if(Object(u.has)(t,e.field.base_name))n=m(Object(u.omit)(t,[e.field.base_name]));else{var r=e.id.split("__");r.shift();var o=r.shift();r.pop();var i=r.reduce(function(e,t){return v(t)?e:e+1},0);n=m(n=Object(u.omit)(t,[o]),i+1);for(var c=o;r.length>0;){var l=r.shift(),a=v(l),s=!a;if(a){var f=Object(u.findIndex)(Object(u.get)(t,c),["_id",l]);c="".concat(c,".").concat(f);var p=Object(u.get)(t,c);p=m(p=Object(u.omit)(p,["_id","_type",e.field.base_name]),i),Object(u.assign)(n,p)}s&&(c="".concat(c,".").concat(l),i--)}}return n});n(42),Object(p.addFilter)("carbon-fields.association.block","carbon-fields/blocks",Object(d.withProps)(function(e){return{hierarchyResolver:function(){var t=Object(l.select)("core/block-editor").getBlock(e.blockId),n=e.id.split("__");n.shift();for(var r=n.shift(),o="data.".concat(r);n.length>0;){var i=n.shift();if(0===i.indexOf("cf-")){var c=Object(u.get)(t.attributes,"".concat(o)),a=Object(u.find)(c,["_id",i]),s=c.indexOf(a);o="".concat(o,".").concat(s),r="".concat(r,"[").concat(s,"]:").concat(a._type,"/")}else o="".concat(o,".").concat(i),r="".concat(r).concat(i)}return r}}}));var O=n(21),g=n.n(O),_=n(9),j=n.n(_),x=n(10),k=n.n(x),w=n(4),E=n.n(w),S=n(11),P=n.n(S),I=n(12),F=n.n(I),C=n(7),G=n.n(C),B=n(17),M=n.n(B),T=n(8),R=(n(49),n(50),Object(d.withFilters)("carbon-fields.field-wrapper.block")(d.Field));var N=function(e){P()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F()(this,n)}}(n);function n(){var e;j()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),c()(E()(e),"state",{collapsedGroups:e.props.value.reduce(function(t,n){var r=n._id,o=n._type;return Object(u.find)(e.props.field.groups,["name",o]).collapsed?t.concat(r):t},[])}),c()(E()(e),"handleAddGroup",function(t,n){var r=e.props,o=r.id,i=r.value,c=r.onChange,l={};l._id=Object(d.uniqueId)(),l._type=t.name,t.fields.reduce(function(e,t){return e[t.base_name]=t.default_value,e},l),c(o,i.concat(l)),n(l)}),c()(E()(e),"handleCloneGroup",function(t,n){var r=e.props,o=r.id,i=r.value,c=r.onChange,l=i.indexOf(t),a=Object(u.cloneDeep)(t);a._id=Object(d.uniqueId)(),c(o,M()(i,function(e){e.splice(l+1,0,a)})),n(a)}),c()(E()(e),"handleRemoveGroup",function(t){var n=e.props,r=n.id,o=n.value,i=n.onChange,c=Object(u.findIndex)(o,["_id",t._id]);i(r,M()(o,function(e){e.splice(c,1)})),e.setState(function(e){var n=e.collapsedGroups;return{collapsedGroups:Object(u.without)(n,t._id)}})}),c()(E()(e),"handleToggleGroup",function(t){e.setState(function(e){var n=e.collapsedGroups;return{collapsedGroups:n=n.indexOf(t)>-1?Object(u.without)(n,t):[].concat(g()(n),[t])}})}),c()(E()(e),"handleToggleAllGroups",function(){var t=e.props.value;e.setState(function(e){var n=e.collapsedGroups;return{collapsedGroups:n=n.length!==t.length?t.map(function(e){return e._id}):[]}})}),c()(E()(e),"handleGroupSetup",function(t,n){var r=Object(u.get)(Object(u.find)(e.props.field.groups,["name",t._type]),"fields",[]),o=Object(u.omit)(t,["_id","_type"]);return Object(u.assign)({},n,{id:t._id,fields:r,collapsed:e.state.collapsedGroups.indexOf(t._id)>-1,context:"block",values:o})}),c()(E()(e),"handleGroupFieldSetup",function(t,n,r){var o=e.props.blockId,i="".concat(e.props.id,"__").concat(r.id,"__").concat(t.base_name),c=Object(u.get)(r,"values.".concat(t.base_name));return[R,Object(u.assign)({},n,{key:i,id:i,name:t.base_name,containerId:e.props.containerId,blockId:o,field:t,value:c,onChange:e.handleGroupFieldChange})]}),c()(E()(e),"handleGroupFieldChange",function(t,n){var r=e.props,o=r.id,i=r.value;(0,r.onChange)(o,M()(i,function(e){var r=t.split("__"),o=r.pop(),i=Object(u.find)(e,["_id",r.pop()]);Object(u.set)(i,o,n)}))}),e}return k()(n,[{key:"getGroupValues",value:function(){return this.props.value.map(function(e){var t=Object(u.mapKeys)(Object(u.omit)(e,["_id","_type"]),function(e,t){return t.replace(/\-/g,"_")});return[e._type,t]})}},{key:"render",value:function(){var e=this.handleGroupSetup,t=this.handleGroupFieldSetup,n=this.handleAddGroup,r=this.handleCloneGroup,o=this.handleRemoveGroup,i=this.handleToggleGroup,c=this.handleToggleAllGroups,l=this.props,a=l.value;return(0,l.children)({groupValues:this.getGroupValues(),allGroupsAreCollapsed:this.state.collapsedGroups.length===a.length,handleGroupSetup:e,handleGroupFieldSetup:t,handleAddGroup:n,handleCloneGroup:r,handleRemoveGroup:o,handleToggleGroup:i,handleToggleAllGroups:c})}}]),n}(T.Component);Object(p.addFilter)("carbon-fields.complex.block","carbon-fields/blocks",function(e){return function(t){var n=t.id,r=t.name,o=t.value,i=t.error,c=t.field;return wp.element.createElement(N,t,function(l){var a=l.groupValues,s=l.allGroupsAreCollapsed,u=l.handleGroupSetup,f=l.handleGroupFieldSetup,p=l.handleAddGroup,d=l.handleCloneGroup,b=l.handleRemoveGroup,h=l.handleToggleGroup,m=l.handleToggleAllGroups;return wp.element.createElement(e,{groupIdKey:"_id",groupFilterKey:"_type",id:n,name:r,value:o,error:i,field:c,groupValues:a,allGroupsAreCollapsed:s,onGroupSetup:u,onGroupFieldSetup:f,onAddGroup:p,onCloneGroup:d,onRemoveGroup:b,onToggleGroup:h,onToggleAllGroups:m,onChange:t.onChange})})}});var A=n(13),D=n.n(A),L=n(22);n(51);var U=function(e){P()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F()(this,n)}}(n);function n(){var e;j()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),c()(E()(e),"handleChange",function(t,n){var r=e.props,o=r.id,i=r.onChange,c=r.value,l=r.field,a=Object(L.format)(l.storage_format,n);a!==c&&i(o,a)}),e}return k()(n,[{key:"render",value:function(){var e=this.handleChange;return(0,this.props.children)({handleChange:e})}}]),n}(T.Component);Object(p.addFilter)("carbon-fields.date_time.block","carbon-fields/blocks",function(e){return function(t){return wp.element.createElement(U,t,function(n){var r=n.handleChange;return wp.element.createElement(e,D()({buttonText:Object(s.__)("Select Date","carbon-fields-ui")},t,{onChange:r}))})}}),Object(p.addFilter)("carbon-fields.date.block","carbon-fields/blocks",function(e){return function(t){return wp.element.createElement(U,t,function(n){var r=n.handleChange;return wp.element.createElement(e,D()({},t,{onChange:r}))})}}),Object(p.addFilter)("carbon-fields.time.block","carbon-fields/blocks",function(e){return function(t){return wp.element.createElement(U,t,function(n){var r=n.handleChange;return wp.element.createElement(e,D()({},t,{onChange:r}))})}}),n(52),Object(p.addFilter)("carbon-fields.file.block","carbon-fields/blocks",function(e){return function(t){return wp.element.createElement(e,D()({buttonLabel:Object(s.__)("Select File","carbon-fields-ui"),mediaLibraryButtonLabel:Object(s.__)("Use File","carbon-fields-ui"),mediaLibraryTitle:Object(s.__)("Select File","carbon-fields-ui")},t))}});var q=function(e){var t=e.type;return wp.element.createElement("em",null,Object(s.sprintf)(Object(s.__)("Field of type '%s' is not supported in Gutenberg.","carbon-fields-ui"),[t]))};Object(p.addFilter)("carbon-fields.footer_scripts.block","carbon-fields/blocks",function(){return function(e){return wp.element.createElement(q,{type:e.field.type})}}),Object(p.addFilter)("carbon-fields.header_scripts.block","carbon-fields/blocks",function(){return function(e){return wp.element.createElement(q,{type:e.field.type})}}),Object(p.addFilter)("carbon-fields.hidden.block","carbon-fields/blocks",function(){return function(e){return wp.element.createElement(q,{type:e.field.type})}}),Object(p.addFilter)("carbon-fields.image.block","carbon-fields/blocks",function(e){return function(t){return wp.element.createElement(e,D()({buttonLabel:Object(s.__)("Select Image","carbon-fields-ui"),mediaLibraryButtonLabel:Object(s.__)("Use Image","carbon-fields-ui"),mediaLibraryTitle:Object(s.__)("Select Image","carbon-fields-ui")},t))}}),n(53),n(54),n(55),Object(p.addFilter)("carbon-fields.media_gallery.block","carbon-fields/blocks",function(e){return function(t){return wp.element.createElement(e,D()({buttonLabel:Object(s.__)("Select Attachments","carbon-fields-ui"),mediaLibraryButtonLabel:Object(s.__)("Use Attachments","carbon-fields-ui"),mediaLibraryTitle:Object(s.__)("Select Attachments","carbon-fields-ui")},t))}}),n(56),n(57),n(58),n(59),n(60),Object(p.addFilter)("carbon-fields.sidebar.block","carbon-fields/blocks",function(){return function(e){return wp.element.createElement(q,{type:e.field.type})}}),n(61),n(62),n(63),Object(p.addFilter)("carbon-fields.field-edit.block","carbon-fields/blocks",Object(f.compose)(y,Object(l.withDispatch)(function(e){if(!Object(u.isUndefined)(window._wpLoadBlockEditor)){var t=e("core/editor");return{lockSaving:t.lockPostSaving,unlockSaving:t.unlockPostSaving}}return{}}),d.withValidation));var V=Object(l.combineReducers)({containerDefinitionsByBlockName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETUP_CONTAINER_DEFINITIONS":return t.payload.definitions;default:return e}},fieldDefinitionsByBlockName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETUP_FIELD_DEFINITIONS":return t.payload.definitions;default:return e}}});function K(e){return{type:"SETUP_CONTAINER_DEFINITIONS",payload:{definitions:e}}}function $(e){return{type:"SETUP_FIELD_DEFINITIONS",payload:{definitions:e}}}function W(e,t){return e.containerDefinitionsByBlockName[t.replace("carbon-fields/","")]||{}}function H(e,t){return e.fieldDefinitionsByBlockName[t.replace("carbon-fields/","")]||[]}Object(l.registerStore)("carbon-fields/blocks",{reducer:V,actions:r,selectors:o});var z=n(23),J=n.n(z),Q=n(14),X=n(15),Y=(n(64),n(24)),Z=n.n(Y);var ee=function(e){P()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F()(this,n)}}(n);function n(){var e;j()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),c()(E()(e),"state",{response:null}),e}return k()(n,[{key:"componentDidMount",value:function(){this.isStillMounted=!0,this.fetch(this.props),this.fetch=Object(u.debounce)(this.fetch,500)}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1}},{key:"componentDidUpdate",value:function(e){Object(u.isEqual)(e,this.props)||this.fetch(this.props)}},{key:"fetch",value:function(e){var t=this;if(this.isStillMounted){null!==this.state.response&&this.setState({response:null});var n=e.block,r=this.currentFetchRequest=Z()({method:"post",path:"/carbon-fields/v1/block-renderer",data:{name:n.name,content:Object(a.serialize)([n])}}).then(function(e){t.isStillMounted&&r===t.currentFetchRequest&&e&&e.rendered&&t.setState({response:e.rendered})}).catch(function(e){t.isStillMounted&&r===t.currentFetchRequest&&t.setState({response:{error:!0,errorMsg:e.message}})})}}},{key:"render",value:function(){var e=this.state.response,t=this.props.className;return e?e.error?wp.element.createElement(Q.Placeholder,{className:t},Object(s.sprintf)(Object(s.__)("Error loading block: %s","carbon-fields-ui"),e.errorMsg)):e.length?wp.element.createElement(T.RawHTML,{key:"html",className:t},e):wp.element.createElement(Q.Placeholder,{className:t},Object(s.__)("No results found.","carbon-fields-ui")):wp.element.createElement(Q.Placeholder,{className:t},wp.element.createElement(Q.Spinner,null))}}]),n}(T.Component),te=Object(l.withSelect)(function(e,t){var n=t.clientId;return{block:(0,e("core/block-editor").getBlock)(n)}})(ee);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach(function(t){c()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var oe=function(e){P()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F()(this,n)}}(n);function n(){var e;j()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),c()(E()(e),"state",{mode:e.props.container.settings.mode,currentTab:e.props.supportsTabs?Object.keys(e.props.container.settings.tabs)[0]:null}),c()(E()(e),"handleFieldChange",function(t,n){var r=e.props,o=r.attributes,i=r.setAttributes,l=t.replace(/^.+__(.+)?$/,"$1");i({data:re(re({},o.data),{},c()({},l,n))})}),c()(E()(e),"handleModeChange",function(){e.setState({mode:e.isInEditMode?"preview":"edit"})}),c()(E()(e),"handleTabChange",function(t){e.setState({currentTab:t})}),c()(E()(e),"renderField",function(t,n){var r=e.props,o=r.clientId,i=r.container,c=r.attributes,l=Object(d.getFieldType)(t.type,"block");if(!l)return null;var a="cf-".concat(o,"__").concat(t.base_name),s=Object(u.get)(c.data,t.base_name,t.default_value);return wp.element.createElement(R,{key:n,id:a,field:t},wp.element.createElement(l,{id:a,containerId:i.id,blockId:o,value:s,field:t,name:t.base_name,onChange:e.handleFieldChange}))}),e}return k()(n,[{key:"isInEditMode",get:function(){return"edit"===this.state.mode}},{key:"isInPreviewMode",get:function(){return"preview"===this.state.mode}},{key:"renderTabbedFields",value:function(e){var t=this,n=this.props.fields;return Object(u.map)(e,function(e,r){var o=Object(u.find)(n,["name",e]);return t.renderField(o,r)})}},{key:"renderNonTabbedFields",value:function(){return wp.element.createElement("div",{className:"cf-block__fields"},this.props.fields.map(this.renderField))}},{key:"render",value:function(){var e=this,t=this.state.currentTab,n=this.props,r=n.clientId,o=n.container,i=n.supportsTabs,c=n.supportsPreview,l=n.supportsInnerBlocks&&this.isInEditMode&&wp.element.createElement("div",{className:"cf-block__inner-blocks"},wp.element.createElement(X.InnerBlocks,{template:o.settings.inner_blocks.template,templateLock:o.settings.inner_blocks.template_lock,allowedBlocks:o.settings.inner_blocks.allowed_blocks}));return wp.element.createElement(T.Fragment,null,"above"===o.settings.inner_blocks.position&&l,c&&wp.element.createElement(X.BlockControls,null,wp.element.createElement(Q.ToolbarGroup,{label:"Options",controls:[{icon:this.isInEditMode?"visibility":"hidden",title:this.isInEditMode?Object(s.__)("Show preview","carbon-fields-ui"):Object(s.__)("Hide preview","carbon-fields-ui"),onClick:this.handleModeChange}]})),this.isInEditMode&&i&&wp.element.createElement("div",{className:"cf-block__tabs"},wp.element.createElement("ul",{className:"cf-block__tabs-list"},Object(u.map)(o.settings.tabs,function(n,r){var o=J()("cf-block__tabs-item",{"cf-block__tabs-item--current":r===t});return wp.element.createElement("li",{key:r,className:o,onClick:function(){return e.handleTabChange(r)}},r)}))),this.isInEditMode&&(i?Object(u.map)(o.settings.tabs,function(n,r){return wp.element.createElement("div",{className:"cf-block__fields",key:r,hidden:r!==t},e.renderTabbedFields(n))}):this.renderNonTabbedFields()),this.isInPreviewMode&&wp.element.createElement("div",{className:"cf-block__preview"},wp.element.createElement(te,{clientId:r})),"below"===o.settings.inner_blocks.position&&l,this.isInPreviewMode&&wp.element.createElement(X.InspectorControls,null,i?Object(u.map)(o.settings.tabs,function(t,n){return wp.element.createElement(Q.PanelBody,{key:n,title:n},wp.element.createElement("div",{className:"cf-block__fields"},e.renderTabbedFields(t)))}):wp.element.createElement(Q.PanelBody,{title:Object(s.__)("Fields","carbon-fields-ui")},this.renderNonTabbedFields())))}}]),n}(T.Component),ie=Object(l.withSelect)(function(e,t){var n=t.clientId,r=t.name,o=e("core/blocks").hasBlockSupport,i=e("core/block-editor").getBlockRootClientId,c=e("carbon-fields/blocks"),l=c.getContainerDefinitionByBlockName,a=c.getFieldDefinitionsByBlockName,s=i(n);return{container:l(r),fields:a(r),supportsTabs:o(r,"tabs"),supportsPreview:o(r,"preview")&&!s,supportsInnerBlocks:o(r,"innerBlocks")}})(oe);var ce=function(e){P()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F()(this,n)}}(n);function n(){return j()(this,n),t.apply(this,arguments)}return k()(n,[{key:"render",value:function(){return null}}]),n}(T.Component);wp.hooks.addFilter("blocks.getSaveElement","carbon-fields/blocks",function(e,t){return/^carbon\-fields\/.+$/.test(t.name)&&t.supports.innerBlocks?wp.element.createElement(X.InnerBlocks.Content,null):e});var le=ce;function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach(function(t){c()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}Object(s.setLocaleData)(window.cf.config.locale,"carbon-fields-ui");var fe={},pe={};Object(u.get)(window.cf,"preloaded.blocks",[]).forEach(function(e){var t=Object(u.kebabCase)(e.id).replace("carbon-fields-container-",""),n=function(e){return e.reduce(function(e,t){return se(se({},e),{},c()({},t.base_name,t.default_value))},{})}(e.fields),r=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(u.get)(e,"settings.".concat(t),n)};fe[t]=e,pe[t]=e.fields.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach(function(t){c()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e)}),Object(a.registerBlockType)("carbon-fields/".concat(t),{title:e.title,icon:r("icon"),parent:r("parent",[]),category:r("category.slug"),keywords:r("keywords",[]),description:r("description",""),attributes:{data:{type:"object",default:n}},supports:{tabs:Object(u.isPlainObject)(r("tabs")),preview:r("preview"),innerBlocks:r("inner_blocks.enabled"),alignWide:!1,anchor:!1,html:!1},edit:ie,save:le})}),Object(l.dispatch)("carbon-fields/blocks").setupContainerDefinitions(fe),Object(l.dispatch)("carbon-fields/blocks").setupFieldDefinitions(pe)}]);